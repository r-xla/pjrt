% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/execution_options.R
\name{pjrt_execution_options}
\alias{pjrt_execution_options}
\title{Create Execution Options}
\usage{
pjrt_execution_options(non_donatable_input_indices = integer(), launch_id = 0L)
}
\arguments{
\item{non_donatable_input_indices}{(\code{integer()})\cr
A vector of input buffer indices that should not be donated during execution (0-based).
Buffer donation allows the runtime to reuse input buffers for outputs when
possible, which can improve performance. However, if an input buffer is
referenced multiple times or needs to be preserved, it should be marked as
non-donatable.}

\item{launch_id}{(\code{integer(1)})\cr
An optional launch identifier for multi-device executions. This can be used
to detect scheduling errors in multi-host programs.}
}
\value{
\code{PJRTExecuteOptions}
}
\description{
Create execution options for configuring how a PJRT program is executed,
including buffer donation settings.
\strong{Important}:
It is not enough to only mark a buffer as donatable (not not donatable)
during runtime. The program also needs to specify this during compile-time
via input-output aliasing (stableHLO attribute \code{tf.aliasing_output}).
}
\examples{
\dontshow{if (plugin_is_downloaded()) withAutoprint(\{ # examplesIf}
# Create default execution options
opts <- pjrt_execution_options()

# Mark buffer 0 as non-donatable
opts <- pjrt_execution_options(non_donatable_input_indices = 0L)
\dontshow{\}) # examplesIf}
}
