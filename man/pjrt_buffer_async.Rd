% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/buffer.R
\name{pjrt_buffer_async}
\alias{pjrt_buffer_async}
\title{Create a PJRT Buffer asynchronously}
\usage{
pjrt_buffer_async(data, dtype = NULL, device = NULL, shape = NULL, ...)
}
\arguments{
\item{data}{(any)\cr
Data to convert to a \code{PJRTBuffer}.}

\item{dtype}{(\code{NULL} | \code{character(1)})\cr
The type of the buffer.
Currently supported types are:
\itemize{
\item \code{"pred"}: predicate (i.e. a boolean)
\item \code{"{s,u}{8,16,32,64}"}: Signed and unsigned integer (for \code{integer} data).
\item \code{"f{32,64}"}: Floating point (for \code{double} or \code{integer} data).
The default (\code{NULL}) depends on the method:
\item \code{logical} -> \code{"pred"}
\item \code{integer} -> \code{"i32"}
\item \code{double} -> \code{"f32"}
\item \code{raw} -> must be supplied
}}

\item{device}{(\code{NULL} | \code{PJRTDevice} | \code{character(1)})\cr
A \code{PJRTDevice} object or the name of the platform to use ("cpu", "cuda", ...), in which
case the first device for that platform is used.
The default is to use the CPU platform, but this can be configured via the \code{PJRT_PLATFORM}
environment variable.}

\item{shape}{(\code{NULL} | \code{integer()})\cr
The dimensions of the buffer.
The default (\code{NULL}) is to infer them from the data if possible.
The default (\code{NULL}) depends on the method.}

\item{...}{(any)\cr
Additional arguments.
For \code{raw} types, this includes:
\itemize{
\item \code{row_major}: Whether to read the data in row-major format or column-major format.
R uses column-major format.
}}
}
\value{
A \code{pjrt_buffer_promise} object. Call \code{value()} to get the \code{PJRTBuffer}.
}
\description{
Create a PJRT Buffer from R data asynchronously.
Returns immediately with a \code{pjrt_buffer_promise} object.

The buffer is valid immediately and can be used as input to operations.
The event signals when PJRT is done reading from host memory.

Use \code{value()} to get the \code{PJRTBuffer} (blocks if not ready).
Use \code{is_ready()} to check if transfer has completed (non-blocking).
}
\examples{
\dontshow{if (plugin_is_downloaded()) withAutoprint(\{ # examplesIf}
# Create a buffer asynchronously
x <- pjrt_buffer_async(c(1.0, 2.0, 3.0, 4.0), shape = c(2, 2), dtype = "f32")

# Check if ready (non-blocking)
is_ready(x)

# Get the buffer (blocks if not ready)
buf <- value(x)
\dontshow{\}) # examplesIf}
}
\seealso{
\code{\link[=pjrt_buffer]{pjrt_buffer()}}, \code{\link[=value]{value()}}, \code{\link[=is_ready]{is_ready()}}
}
